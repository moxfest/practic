import { useState} from 'react'import Box from '../Components/clonium/Game/Box'import styles from '../styles/Box.module.scss'import React from "react";const Single = () => {    const width = 6;    const Length = width * width;    const numberPlayer=4;    let arr= [];    const [data, setData] = useState(Array(Length).fill({value: 0, player: 0}).fill({        value: 3,        player: 1    }, 7, 8).fill({value:3,player:2},28,29).fill({value:3,player:3},10,11).fill({value:3,player:4},25,26));    const [player,setPlayer]=useState(numberPlayer);    let playerNext=player+1;    if (playerNext>numberPlayer){        playerNext=1;    }    if (player>numberPlayer){        setPlayer(1);    }    const clickBoom = (copy,arr) => {        copy = JSON.parse(JSON.stringify(copy))        arr.map((i,index)=>        {            if (i >= width) {                copy[i - width] = {                    value: copy[i - width].value + 1, player: copy[i].player                }            }            if (i % width !== 0) {                copy[i - 1] = {                    value: copy[i - 1].value + 1, player: copy[i].player                };            }            if ((i + 1) % width !== 0) {                copy[i + 1] = {                    value: copy[i + 1].value + 1, player: copy[i].player                }            }            if (i < width * width - width) {                copy[i + width] = {                    value: copy[i + width].value + 1, player: copy[i].player                };            }            if (copy[i].value > 4) {                copy[i] = {value: 1, player: copy[i].player};            } else {                copy[i] = {value: 0, player: 0}            }        })        let arr1=[];        copy.map((el,index)=>{            if(el.value>3) arr1.push(index);        })        if(arr1[0]){        return clickBoom(copy,arr1);}        return copy;    }    const clickFunc = async (i) => {        let yeees=false;        console.log("выполнилась функция clickFunc")        let copy;        copy = JSON.parse(JSON.stringify(data))        if (copy[i].value < 3) {            copy[i].value = copy[i].value + 1;            setData(copy);        } else {            let arr1=[i];            data.map((el,index)=>{                if(el.value>3) arr1.push(index);if(el.player==playerNext) yeees=true;                console.log(el.player)                console.log(player)            })           setData(await clickBoom(data,arr1));        }        if(yeees) setPlayer(playerNext); else setPlayer(player+2);    }    return (        <div className={styles.container}>            <Box clickFunc={clickFunc} data={data} step={player} />        </div>    )};export default Single;